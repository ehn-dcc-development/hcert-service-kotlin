<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.6.18/dist/css/uikit.min.css"/>
<head>
    <meta charset="UTF-8">
    <title>eHealth Certificate Service</title>
</head>

<body class="uk-background-muted">
<div class="uk-padding">
    <div class="uk-card uk-margin uk-default uk-card-body uk-background-default">
        <h2 class="">Input Data</h2>
        <div class="uk-grid">
            <div><h3>Previously Infected</h3>
                <pre id="data_pastInfected" th:text="${pastInfectedJson}"></pre>

                <button class="uk-button-default uk-margin uk-padding-small uk-align-center"
                        onclick="document.getElementById('vaccinationData').value = document.getElementById('data_pastInfected').textContent;">
                    Fill in data
                </button>
            </div>

            <div><h3>Vaccinated</h3>
                <pre id="data_vaccinated" th:text="${vaccinatedJson}"></pre>
                <button class="uk-button-default uk-margin uk-padding-small uk-align-center"
                        onclick="document.getElementById('vaccinationData').value = document.getElementById('data_vaccinated').textContent;">
                    Fill in data
                </button>
            </div>

            <div><h3>Tested (RAT)</h3>
                <pre id="data_tested_rat" th:text="${testedRatJson}"></pre>
                <button class="uk-button-default uk-margin uk-padding-small uk-align-center"
                        onclick="document.getElementById('vaccinationData').value = document.getElementById('data_tested_rat').textContent;">
                    Fill in data
                </button>
            </div>

            <div><h3>Tested (NAA)</h3>
                <pre id="data_tested_naa" th:text="${testedNaaJson}"></pre>
                <button class="uk-button-default uk-margin uk-padding-small uk-align-center"
                        onclick="document.getElementById('vaccinationData').value = document.getElementById('data_tested_naa').textContent;">
                    Fill in data
                </button>
            </div>

        </div>
    </div>

    <div class="uk-card uk-margin uk-default uk-card-body uk-background-default uk-flex-wrap">
        <div class="uk-grid">
            <div>
                <h3>Certificate Generation</h3>
                <form action="/ehn/generate" method="post">
                    <label class="uk-form-label" for="vaccinationData">Input Data</label><br/>
                    <textarea class="uk-textarea" id="vaccinationData" name="vaccinationData" rows="25" cols="50"
                              required>[[${vaccinatedJson}]]</textarea><br/>
                    <input class="uk-button-default uk-margin uk-padding-small uk-align-center" value="Generate COSE"
                           type="submit">
                </form>
            </div>
            <div>
                <h3 class="">Other links</h3>
                <ul>
                    <li><a class="uk-button-default uk-margin uk-padding-small uk-display-block" href="/ehn/testsuite">
                        Testsuite</a></li>
                    <li><a class="uk-button-default uk-margin uk-padding-small uk-display-block" href="/ehn/cert/list">
                        Trust List (binary)</a></li>
                    <li><a class="uk-button-default uk-margin uk-padding-small uk-display-block" href="/ehn/cert/listv2">
                        Trust List V2 Content (binary)</a></li>
                    <li><a class="uk-button-default uk-margin uk-padding-small uk-display-block" href="/ehn/cert/sigv2">
                        Trust List V2 Signature (binary)</a></li>
                    <li><a class="uk-button-default uk-margin uk-padding-small uk-display-block" href="/ehn/qrc/test">
                        Sample QR code content, tested</a></li>
                    <li><a class="uk-button-default uk-margin uk-padding-small uk-display-block"
                           href="/ehn/qrc/vaccination">
                        Sample QR code content, vaccinated</a></li>
                    <li><a class="uk-button-default uk-margin uk-padding-small uk-display-block"
                           href="/ehn/qrc/recovery">
                        Sample QR code content, recovered</a></li>
                </ul>
            </div>
            <div><h3>Document Signing Certificate</h3>
                <pre id="ec_certificate" th:text="${ecCertificatePem}"></pre>
            </div>
            <div><h3>Trust List Signing Certificate</h3>
                <pre id="trustlist_certificate" th:text="${trustlistCertificatePem}"></pre>
            </div>
        </div>
    </div>
</div>


</body>
</html>
